<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">

    <title>Buddy</title>
</head>
<body>

</body>
<template name="ApplicationLayout">
    <header>
        <h1>{{title}}</h1>
        <p><a href="/">Home</a></p>
    </header>

    <article>
        {{> yield}}
    </article>

    <footer>
        <p>This is a footer</p>
    </footer>
</template>

<template name="Home">
    <p>Dashboard</p>
    <a href="/new">Create new buddy pairing</a>
</template>


<template name="New">
    <label for="locals">Locals</label><textarea name="locals" rows="8" cols="40"></textarea>
    <p><a id="new-locals">Update &rarr;</a></p>
    <label for="internationals">Internationals</label><textarea name="internationals" rows="8" cols="40"></textarea>
    <p><a id="new-internationals">Update &rarr;</a></p>
    <a class="btn btn-large" href="{{keysLink}}">Continue</a>
    {{> Responses}}
</template>

<template name="Keys">
    <h2>Local questions</h2>
    <form role="form" id="local-key" accept-charset="utf-8">
        {{#each localQuestions}}
        <div class="form-group">
            <label for="{{this}}">{{this}}</label>
            <select class="local-key" name="{{this}}" id="{{this}}">
                {{#each localOptions this}}
                    <option value="{{key}}" selected={{isSelected}}>{{key}}</option>
                {{/each}}
            </select>
        </div>
        {{/each}}
    <p><input type="submit" value="Save"></p>
    </form>
    <h2>International questions</h2>
    <form role="form" id="international-key" accept-charset="utf-8">
        {{#each internationalQuestions this}}
        <div class="form-group">
            <label for="{{this}}">{{this}}</label>
            <select class="international-key" name="{{this}}" id="{{this}}">
                {{#each internationalOptions this}}
                <option value="{{key}}" selected={{isSelected}}>{{key}}</option>
                {{/each}}
            </select>
        </div>
        {{/each}}
    <p><input type="submit" value="Save"></p>
    </form>
</template>

<template name="selectKeys">
</template>

<template name="Responses">
    <h2>Locals</h2>
    {{#each locals}}
        {{> ResponseTable}}
    {{else}}
        <p>Use the textarea to add some data</p>
    {{/each}}
    <h2>Internationals</h2>
    {{#each internationals}}
        {{> ResponseTable}}
    {{else}}
        <p>Use the textarea to add some data</p>
    {{/each}}
    <p>You're using id {{matchingId}}</p>
</template>

<template name="ResponseTable">
    <div class="table-responsive">
        <table class="table table-condensed">
            <thead>
                <tr>
                    {{#each data.header}}
                        <th>{{this}}</th>
                    {{/each}}
                </tr>
            </thead>
            <tbody>
                {{#each data.responses}}
                <tr>
                    {{#each this}}
                        <td>
                            {{this}}
                        </td>
                    {{/each}}
                </tr>
                {{/each}}
            </tbody>
        </table>
    </div>
</template>



